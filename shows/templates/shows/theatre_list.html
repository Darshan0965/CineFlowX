{% extends "base.html" %}
{% block content %}

<style>
@keyframes border-flow {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}
</style>

<div class="min-h-screen relative overflow-hidden
            bg-gradient-to-br from-indigo-900 via-purple-800 to-indigo-900">

  <!-- background glow -->
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_30%,rgba(99,102,241,0.35),transparent_45%)]
              animate-pulse"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_70%,rgba(236,72,153,0.35),transparent_45%)]
              animate-pulse"></div>

  <div class="relative z-10 max-w-6xl mx-auto px-6 py-14">

    <!-- SINGLE BookMyShow -->
    <h1 class="text-center text-5xl font-extrabold mb-4
               text-pink-400
               drop-shadow-[0_0_40px_rgba(236,72,153,1)]
               animate-pulse">
      BookMyShow
    </h1>

    <p class="text-center text-gray-200 mb-14 text-lg">
      Choose your theatre & showtime
    </p>

    <div class="space-y-14">

      {% for theatre, shows in theatre_shows.items %}
      <div
        class="group relative rounded-3xl
               bg-black/70 backdrop-blur-xl
               p-10 transition-all duration-500
               hover:-translate-y-3
               hover:shadow-[0_0_90px_rgba(56,189,248,0.9)]">

        <!-- theatre glow -->
        <div class="absolute inset-0 rounded-3xl
                    bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500
                    opacity-0 group-hover:opacity-100
                    blur-2xl transition
                    pointer-events-none"></div>

        <div class="relative z-10">

          <h2 class="text-3xl font-bold mb-2 text-emerald-400">
            {{ theatre.name }}
          </h2>

          <p class="text-gray-300 mb-10">
            Dolby Atmos • Laser • Recliner Seats
          </p>

          <!-- SHOW TIMES -->
          <div class="flex flex-wrap gap-8">

            {% for show in shows %}
            <a href="{% url 'shows:seat_layout' show.id %}"
               class="group relative">

              <!-- animated border -->
              <div
                class="absolute inset-0 rounded-2xl p-[3px]
                       bg-gradient-to-r from-fuchsia-500 via-cyan-400 to-lime-400
                       bg-[length:200%_200%]
                       opacity-0 group-hover:opacity-100"
                style="animation: border-flow 3s linear infinite;">
              </div>

              <!-- timing button -->
              <div
                class="relative z-20
                       min-w-[240px] min-h-[90px]
                       flex items-center justify-center
                       rounded-2xl
                       bg-black
                       border border-white/10
                       hover:scale-105
                       transition-all duration-300">

                <!-- ✅ FIXED: REAL SHOW TIME -->
                <span class="relative z-30 text-2xl font-extrabold text-white">
                  {{ show.show_time|time:"h:i A" }}
                </span>

              </div>
            </a>
            {% endfor %}

          </div>

        </div>
      </div>
      {% endfor %}

    </div>
  </div>
</div>

{% endblock %}